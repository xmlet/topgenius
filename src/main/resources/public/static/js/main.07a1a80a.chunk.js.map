{"version":3,"sources":["index.js"],"names":["InputId","props","_this","Object","C_Users_mcarvalho_AppData_Roaming_npm_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_mcarvalho_AppData_Roaming_npm_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_mcarvalho_AppData_Roaming_npm_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","val","evt","setState","target","value","handler","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","label","onChange","updateInputValue","onClick","getArtistTracks","React","Component","Game","_this3","tracks","name","playcount","desc","mbid","page","_this4","path","concat","fetch","then","resp","json","data","toptracks","track","length","push","tracksHandler","_this5","map","t","idx","key","ReactDOM","render","document","getElementById"],"mappings":"6NAKMA,qBACF,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAQ,CACTC,IAAK,wCAHMR,gFAOFS,GACbN,KAAKO,SAAS,CACVF,IAAKC,EAAIE,OAAOC,kDAKpBT,KAAKJ,MAAMc,QAAQV,KAAKI,MAAMC,IAAK,oCAG9B,IAAAM,EAAAX,KACL,OACIY,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,aAAQd,KAAKJ,MAAMmB,OACnBH,EAAAC,EAAAC,cAAA,SAAOL,MAAOT,KAAKI,MAAMC,IAAKW,SAAU,SAAAV,GAAG,OAAIK,EAAKM,iBAAiBX,MACrEM,EAAAC,EAAAC,cAAA,UAAQL,MAAM,SAASS,QAAS,kBAAMP,EAAKQ,oBAA3C,kBAvBOC,IAAMC,YA4BvBC,cACF,SAAAA,EAAY1B,GAAO,IAAA2B,EAAAzB,OAAAC,EAAA,EAAAD,CAAAE,KAAAsB,GAAA,OACfC,EAAAzB,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwB,GAAAnB,KAAAH,KAAMJ,KAMDQ,MAAQ,CAACoB,OALC,CACX,CAAEC,KAAM,WAAYC,UAAW,KAAMC,KAAM,kCAC3C,CAAEF,KAAM,QAASC,UAAW,GAAIC,KAAM,2BACtC,CAAEF,KAAM,aAAcC,UAAW,KAAMC,KAAM,sBALlCJ,6EAULK,EAAMC,GAAM,IAAAC,EAAA9B,KAGhB+B,EAAI,GAAAC,OADG,oCACH,qCAAAA,OAA8CJ,EAA9C,UAAAI,OAA2DH,EAA3D,yBAAAG,OAFM,oCAGhBC,MAAMF,GACDG,KAAK,SAAAC,GAAI,OAAIA,EAAKC,SAClBF,KAAK,SAAAG,GAAI,OAAIA,EAAKC,UAAUC,QAC5BL,KAAK,SAAAV,GACmB,IAAlBA,EAAOgB,SACVV,EAAK1B,MAAMoB,OAAOiB,KAAK,CAAChB,KAAQ,sBAAuBC,UAAaG,IAEpEC,EAAKvB,SAAS,CACViB,OAAUM,EAAK1B,MAAMoB,OAAOQ,OAAOR,KAEvCM,EAAKY,cAAcd,EAAMC,EAAO,uCAInC,IAAAc,EAAA3C,KACL,OACIY,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACnB,EAAD,CAASoB,MAAM,gBAAgBL,QAAS,SAACc,EAAQK,GAAT,OAAkBc,EAAKD,cAAclB,EAAQK,MACrFjB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,yBAGRF,EAAAC,EAAAC,cAAA,aACMd,KAAKI,MAAMoB,OAAOoB,IAAK,SAACC,EAAGC,GAAJ,OACrBlC,EAAAC,EAAAC,cAAA,MAAIiC,IAAKD,GACLlC,EAAAC,EAAAC,cAAA,UAAK+B,EAAEpB,MACPb,EAAAC,EAAAC,cAAA,UAAK+B,EAAEnB,wBA7CpBN,IAAMC,WAyDzB2B,IAASC,OACLrC,EAAAC,EAAAC,cAACQ,EAAD,MACA4B,SAASC,eAAe","file":"static/js/main.07a1a80a.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\n\r\nclass InputId  extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { // mbid of Muse\r\n            val: 'fd857293-5ab8-40de-b29e-55a69d4e4d0f' \r\n        } \r\n    }\r\n\r\n    updateInputValue(evt) {\r\n        this.setState({\r\n            val: evt.target.value\r\n        })\r\n    }\r\n\r\n    getArtistTracks() {\r\n        this.props.handler(this.state.val, 0)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <label>{this.props.label}</label>\r\n                <input value={this.state.val} onChange={evt => this.updateInputValue(evt)}/>\r\n                <button value='tracks' onClick={() => this.getArtistTracks()}>Tracks</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nclass Game extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        const tracks = [\r\n            { name: \"Bacalhau\", playcount: 23.4, desc: \"bacalhau muit bom e salgadinho\"},\r\n            { name: \"Pipas\", playcount: 31, desc: \"barris cheios de tintol\"},\r\n            { name: \"Gata Mania\", playcount: 17.1, desc: \"A gatona lindona\"}\r\n        ]\r\n        this.state = {tracks}\r\n    }\r\n\r\n    tracksHandler(mbid, page) {\r\n        const API_KEY = '038cde478fb0eff567330587e8e981a4'\r\n        const HOST = 'http://ws.audioscrobbler.com/2.0/'\r\n        const path = `${HOST}?method=artist.gettoptracks&mbid=${mbid}&page=${page}&format=json&api_key=${API_KEY}`\r\n        fetch(path)\r\n            .then(resp => resp.json())\r\n            .then(data => data.toptracks.track)\r\n            .then(tracks => {\r\n                if(tracks.length === 0) return\r\n                this.state.tracks.push({'name': 'page ************* ', 'playcount': page })\r\n                // Array.prototype.push.apply(this.state.tracks, tracks)\r\n                this.setState({\r\n                    'tracks': this.state.tracks.concat(tracks),\r\n                })\r\n                this.tracksHandler(mbid, page + 1)\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <InputId label='Artist name: ' handler={(tracks, page) => this.tracksHandler(tracks, page)}/>\r\n                <br />\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Name</th>\r\n                            <th>Playcount</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        { this.state.tracks.map( (t, idx) => (\r\n                            <tr key={idx}>\r\n                                <td>{t.name}</td>\r\n                                <td>{t.playcount}</td>\r\n                            </tr>\r\n                        )) }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// ========================================\r\n\r\nReactDOM.render(\r\n    <Game />,\r\n    document.getElementById('root')\r\n);\r\n  "],"sourceRoot":""}